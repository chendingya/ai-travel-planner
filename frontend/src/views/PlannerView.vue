<template>
  <div class="content-wrapper">
    <t-row :gutter="24">
      <t-col :xs="12" :sm="12" :md="6" :lg="6" :xl="6">
        <div class="planner-section">
          <!-- ç§»é™¤å¤–å±‚ t-card åŒ…è£¹ï¼Œé¿å…å·¦å³è¾¹ç•Œ/é˜´å½±è´¯ç©¿å¤´éƒ¨ä¸å¿«æ·è¾“å…¥ä¹‹é—´çš„é—´éš” -->
          <div class="planner-card">
            <Planner 
              @locations-updated="(locations) => $emit('locations-updated', locations)" 
              @fly-to="(coords) => $emit('fly-to', coords)"
              @plan-generated="$emit('plan-generated')" 
            />
          </div>
        </div>
      </t-col>
      <t-col :xs="12" :sm="12" :md="6" :lg="6" :xl="6">
        <div class="intro-section">
          <t-card class="intro-card book-right" :bordered="false">
            <div class="intro-header">
              <h2 class="intro-title">
                <span class="intro-icon">ğŸ’¡</span>
                å¿«é€Ÿå¼€å§‹
              </h2>
            </div>

            <div class="intro-content">
              <!-- å¿«é€ŸæŒ‡å— -->
              <section class="intro-block">
                <h3 class="block-title">
                  <t-icon name="chart-bubble" />
                  å¡«å†™è¦æ±‚
                </h3>
                <div class="block-content">
                  <div class="step-list">
                    <div class="step-item-simple">
                      <div class="step-num">1</div>
                      <span>å¡«å†™ç›®çš„åœ°ã€å¤©æ•°ã€é¢„ç®—å’Œäººæ•°</span>
                    </div>
                    <div class="step-item-simple">
                      <div class="step-num">2</div>
                      <span>æè¿°æ‚¨çš„åå¥½å’Œç‰¹æ®Šéœ€æ±‚</span>
                    </div>
                    <div class="step-item-simple">
                      <div class="step-num">3</div>
                      <span>ç‚¹å‡»ç”Ÿæˆï¼Œç­‰å¾… AI è§„åˆ’æ–¹æ¡ˆ</span>
                    </div>
                    <div class="step-item-simple">
                      <div class="step-num">4</div>
                      <span>æŸ¥çœ‹è¯¦æƒ…å¹¶ä¿å­˜å–œæ¬¢çš„æ–¹æ¡ˆ</span>
                    </div>
                  </div>
                </div>
              </section>

              <!-- å°æç¤º -->
              <section class="intro-block tips-block">
                <h3 class="block-title">
                  <t-icon name="tips" />
                  ä½¿ç”¨æç¤º
                </h3>
                <div class="block-content">
                  <div class="tips-simple">
                    <div class="tip-item-simple">
                      <t-icon name="check-circle" class="tip-check" />
                      <span>è¯¦ç»†æè¿°åå¥½å¯è·å¾—æ›´ç²¾å‡†æ–¹æ¡ˆ</span>
                    </div>
                    <div class="tip-item-simple">
                      <t-icon name="check-circle" class="tip-check" />
                      <span>æ”¯æŒè¯­éŸ³è¾“å…¥ç›®çš„åœ°ä¿¡æ¯</span>
                    </div>
                    <div class="tip-item-simple">
                      <t-icon name="check-circle" class="tip-check" />
                      <span>ç‚¹å‡»æ´»åŠ¨å¯åœ¨åœ°å›¾ä¸ŠæŸ¥çœ‹ä½ç½®</span>
                    </div>
                    <div class="tip-item-simple">
                      <t-icon name="check-circle" class="tip-check" />
                      <span>ä¿å­˜æ–¹æ¡ˆåå¯éšæ—¶æŸ¥çœ‹</span>
                    </div>
                  </div>
                </div>
              </section>
            </div>
          </t-card>
        </div>
      </t-col>
    </t-row>
  </div>
</template>

<script setup>
import Planner from '../components/Planner.vue';

defineEmits(['locations-updated', 'fly-to', 'plan-generated']);
</script>

<style scoped>
.content-wrapper {
  padding: 24px;
  min-height: calc(100vh - var(--header-height));
  background: transparent;
}

.planner-section, .intro-section {
  min-height: 600px;
}

/* ä»…å³ä¾§ä»‹ç»å¡ç‰‡ä½¿ç”¨ t-card çš„åœ†è§’ä¸è¿‡æ¸¡ï¼Œå·¦ä¾§å·²ç§»é™¤ t-card åŒ…è£¹ */
.intro-section :deep(.t-card) {
  border-radius: 24px !important;
  box-shadow: none !important;
  transition: all 0.3s ease;
  overflow: visible !important;
}

/* åˆ é™¤å·¦ä¾§ä¹¦é¡µè£…é¥°çº¿ï¼Œé¿å…äº§ç”Ÿè´¯ç©¿æ•ˆæœ */

/* å³é¡µåœ†è§’ */
.book-right :deep(.t-card) {
  border-top-left-radius: 8px !important;
  border-bottom-left-radius: 8px !important;
  box-shadow: none !important;
  position: relative;
}

.book-right :deep(.t-card)::before {
  content: '';
  position: absolute;
  left: 0;
  top: 5%;
  bottom: 5%;
  width: 2px;
  background: linear-gradient(
    to bottom,
    transparent,
    rgba(102, 126, 234, 0.1) 10%,
    rgba(102, 126, 234, 0.2) 50%,
    rgba(102, 126, 234, 0.1) 90%,
    transparent
  );
  z-index: 1;
  pointer-events: none;
}

.book-right:hover :deep(.t-card) {
  transform: translateX(4px);
  box-shadow: none !important;
}

/* å·¦ä¾§ Planner å®¹å™¨åŸºç¡€æ ·å¼ï¼ˆä¸äº§ç”Ÿè¾¹æ¡†ä¸é˜´å½±ï¼‰ */
.planner-card {
  padding: 0;
  background: transparent;
}

/* å³ä¾§å¡ç‰‡ä¿æŒ padding */
.intro-card :deep(.t-card__body) {
  padding: 32px !important;
  overflow: visible !important;
}

/* å³ä¾§ä»‹ç»å®¹å™¨ */
.intro-header {
  margin-bottom: 24px;
  padding-bottom: 20px;
  border-bottom: 2px solid #f0f0f0;
}

.intro-title {
  font-size: 26px;
  font-weight: 700;
  color: #1a1a2e;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 12px;
  letter-spacing: -0.3px;
}

.intro-icon {
  font-size: 32px;
  filter: drop-shadow(0 2px 8px rgba(102, 126, 234, 0.2));
}

.intro-block {
  margin-bottom: 28px;
}

.intro-block:last-child {
  margin-bottom: 0;
}

.block-title {
  font-size: 18px;
  font-weight: 600;
  color: #333;
  margin: 0 0 16px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.block-title :deep(.t-icon) {
  font-size: 20px;
  color: var(--primary-color);
}

.block-content {
  padding-left: 4px;
}

.step-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.step-item-simple {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
  border-radius: 12px;
  border: 1px solid rgba(102, 126, 234, 0.1);
  transition: all 0.3s ease;
}

.step-item-simple:hover {
  background: linear-gradient(135deg, #e8f4ff 0%, #f0f8ff 100%);
  transform: translateX(4px);
  border-color: rgba(102, 126, 234, 0.3);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
}

.step-num {
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 14px;
  flex-shrink: 0;
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.step-item-simple span {
  color: #555;
  font-size: 14px;
  line-height: 1.5;
}

.tips-simple {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.tip-item-simple {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 12px 14px;
  background: linear-gradient(135deg, #fffbf0 0%, #fff9e6 100%);
  border-radius: 12px;
  border: 1px solid rgba(255, 214, 102, 0.3);
  border-left: 3px solid #ffd666;
  transition: all 0.3s ease;
}

.tip-item-simple:hover {
  background: linear-gradient(135deg, #fff9e6 0%, #fff4cc 100%);
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(255, 193, 7, 0.15);
  border-left-width: 4px;
}

.tip-check {
  color: #52c41a;
  font-size: 18px;
  flex-shrink: 0;
  margin-top: 2px;
  filter: drop-shadow(0 2px 4px rgba(82, 196, 26, 0.3));
}

.tip-item-simple span {
  color: #666;
  font-size: 13px;
  line-height: 1.5;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .planner-section, .intro-section {
    height: auto;
    min-height: 600px;
  }

  .book-right :deep(.t-card) {
    border-radius: 20px !important;
    margin-bottom: 24px;
  }

  .book-right :deep(.t-card)::before {
    display: none;
  }

  .book-right:hover :deep(.t-card) {
    transform: translateY(-4px);
  }

  .intro-title {
    font-size: 22px;
  }

  .intro-icon {
    font-size: 28px;
  }
}
</style>
